<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        ul {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        img {
            vertical-align: top;
        }

        .wrap {
            margin: 30px auto;
            width: 600px;
            overflow: hidden;
        }

        .pics {
            transition: .5s;
            width: 6000px;
        }

        .pics li {
            float: left;
        }

        .pics img {
            width: 600px;
        }

        .navs {
            height: 67px;
        }

        .subPic {
            float: left;
            position: relative;
            width: 500px;
            height: 67px;
            overflow: hidden;
        }

        .btn {
            box-sizing: border-box;
            float: left;
            width: 50px;
            height: 67px;
        }

        .navs img {
            width: 94px;
        }

        .subpics {
            transition: .5s;
            position: absolute;
            left: 0;
            top: 0;
            width: 1000px;
            background: #000;
        }

        .subpics li {
            box-sizing: border-box;
            float: left;
            border: 3px solid #000;
            opacity: .3;
            transition: .5s;
        }

        .subpics .active {
            opacity: 1;
            border-color: #f60;
        }
    </style>
</head>

<body>
    <div class="wrap">
        <ul class="pics">
            <li>
                <img src="../img/img (1).jpg" />
            </li>
            <li>
                <img src="../img/img (2).jpg" />
            </li>
            <li>
                <img src="../img/img (3).jpg" />
            </li>
            <li>
                <img src="../img/img (4).jpg" />
            </li>
            <li>
                <img src="../img/img (5).jpg" />
            </li>
            <li>
                <img src="../img/img (6).jpg" />
            </li>
            <li>
                <img src="../img/img (7).jpg" />
            </li>
            <li>
                <img src="../img/img (8).jpg" />
            </li>
            <li>
                <img src="../img/img (9).jpg" />
            </li>
            <li>
                <img src="../img/img (10).jpg" />
            </li>
        </ul>
        <nav class="navs">
            <button class="btn">
                <</button> <div class="subPic">
                    <ul class="subpics">
                        <li class="active">
                            <img src="../img/img (1).jpg" />
                        </li>
                        <li>
                            <img src="../img/img (2).jpg" />
                        </li>
                        <li>
                            <img src="../img/img (3).jpg" />
                        </li>
                        <li>
                            <img src="../img/img (4).jpg" />
                        </li>
                        <li>
                            <img src="../img/img (5).jpg" />
                        </li>
                        <li>
                            <img src="../img/img (6).jpg" />
                        </li>
                        <li>
                            <img src="../img/img (7).jpg" />
                        </li>
                        <li>
                            <img src="../img/img (8).jpg" />
                        </li>
                        <li>
                            <img src="../img/img (9).jpg" />
                        </li>
                        <li>
                            <img src="../img/img (10).jpg" />
                        </li>
                    </ul>
    </div>
    <button class="btn">></button>
    </nav>
    </div>
    <script>
        let bottomlis = document.querySelectorAll(".subpics li"); //下面图片的li
        let num = 0;
        let btns = document.querySelectorAll(".btn"); //按钮

        let w = parseInt(getStyle(document.querySelector(".pics li"), 'width')); //上面一个li的宽度
        let w1 = parseInt(getStyle(document.querySelector(".subpics li"), 'width')); //下面一个li的宽度
        let w2 = parseInt(getStyle(document.querySelector(".subPic"), 'width')) - parseInt(getStyle(document.querySelector(
            ".subpics"), 'width')); //下面div的宽度减去ul的宽度
        let timer = 0;
        let wrap = document.querySelector(".wrap")
        bottomlis.forEach((e, i) => {
            e.onclick = function () {
                bottomlis[num].className = "";
                num = i;
                move()
                bottomlis[num].className = "active";
            }
        });
        btns[0].onclick = function () {
            bottomlis[num].className = "";
            num--;
            if (num < 0) {
                num = bottomlis.length - 1;
            }
            move()
            bottomlis[num].className = "active";

        };
        btns[1].onclick = function () {
            bottomlis[num].className = "";
            num++;
            if (num > bottomlis.length - 1) {
                num = 0;
            }
            move()
            bottomlis[num].className = "active";
        };

        function move() {
            document.querySelector(".pics").style.transform = "translate3d(" + -num * w + "px,0,0)";
            let s = -(num - 2) * w1; //选中图片位置在中间
            if (s < w2) {
                s = w2;
            }
            if (s > 0) {
                s = 0;
            }
            document.querySelector(".subpics").style.transform = "translate3d(" + s + "px,0,0)";
        }

        function getStyle(el, attr) {
            return getComputedStyle(el)[attr];
        }

        function auto() {//添加定时器
            timer = setInterval(function () {
                btns[1].onclick()
            }, 1000)
        };
        auto()
        wrap.onmouseover = function () {//清除定时器
            clearInterval(timer);
        }
        wrap.onmouseout = function () {//添加定时器
            auto()
        }


























        // function getStyle(el, attr) {
        //     return getComputedStyle(el)[attr];
        // }

        // let pics = document.querySelector(".pics");//上面的ul;
        // let picsOption = pics.querySelector("li");//上面的li；
        // let navWrap = document.querySelector(".subPic");
        // let nav = document.querySelector(".subpics");//下面的ul；
        // let navs = nav.querySelectorAll("li");//下面的li
        // let now = 0;
        // let imgW = parseInt(getStyle(picsOption, "width"));//上面的一张图片的宽度
        // let btns = document.querySelectorAll(".btn");//按钮
        // let subImgW = parseInt(getStyle(navs[0], "width"));//下面
        // let minSubLeft = parseInt(getStyle(navWrap, "width")) - parseInt(getStyle(nav, "width"));
        // console.log(minSubLeft);
        // // 给每个导航加上点击事件
        // navs.forEach((option, index) => {
        //     option.onclick = () => {
        //         now = index;
        //         tab();
        //     };
        // });

        // // 查看上一张
        // btns[0].onclick = () => {
        //     now--;
        //     if (now < 0) {
        //         now = navs.length - 1;
        //     }
        //     tab();
        // };

        // // 查看下一张
        // btns[1].onclick = () => {
        //     now++;
        //     if (now > navs.length - 1) {
        //         now = 0;
        //     }
        //     tab();
        // };

        // // 根据 now 值切换到对应张
        // function tab() {
        //     //当前需要显示第几张 pics 就移动 - n * imgW
        //     pics.style.transform = "translate3d(-" + (now * imgW) + "px,0,0)";

        //     // navs 选中第now张
        //     navs.forEach((option) => {
        //         option.className = "";
        //     });
        //     navs[now].className = "active";
        //     // 选中的小图保持在中间; 当前需要显示第几张 nav 就移动 - (n-2) * subImgW
        //     let subImgL = -(now - 2) * subImgW;
        //     subImgL = subImgL > 0 ? 0 : subImgL;
        //     subImgL = subImgL < minSubLeft ? minSubLeft : subImgL;
        //     nav.style.left = subImgL + "px";
        // }
    </script>
</body>

</html>