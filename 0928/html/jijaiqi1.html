<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../style/jijiaqi.css">
</head>

<body>
    <div class="box">
        <ul class="list">
            <li>
                <div class="left">
                    <div class="jian">-</div>
                    <div class="num">0</div>
                    <div class="add">+</div>
                </div>
                <div class="right">
                    <div class="price">单价:<span>12.5</span>元</div>
                    <div class="money">小计:<span>0元</span></div>
                </div>
            </li>
            <li>
                <div class="left">
                    <div class="jian">-</div>
                    <div class="num">0</div>
                    <div class="add">+</div>
                </div>
                <div class="right">
                    <div class="price">单价:<span>10.5</span>元</div>
                    <div class="money">小计:<span>0元</span></div>
                </div>
            </li>
            <li>
                <div class="left">
                    <div class="jian">-</div>
                    <div class="num">0</div>
                    <div class="add">+</div>
                </div>
                <div class="right">
                    <div class="price">单价:<span>8.5</span>元</div>
                    <div class="money">小计:<span>0元</span></div>
                </div>
            </li>
            <li>
                <div class="left">
                    <div class="jian">-</div>
                    <div class="num">0</div>
                    <div class="add">+</div>
                </div>
                <div class="right">
                    <div class="price">单价:<span>8</span>元</div>
                    <div class="money">小计:<span>0元</span></div>
                </div>
            </li>
            <li>
                <div class="left">
                    <div class="jian">-</div>
                    <div class="num">0</div>
                    <div class="add">+</div>
                </div>
                <div class="right">
                    <div class="price">单价:<span>14.5</span>元</div>

                    <div class="money">小计:<span>0元</span></div>
                </div>
            </li>
        </ul>
        <div class="bottom">
            <div class="business">
                <div class="bleft">商品共合计：<div class="packages">0</div>件</div>
                <div class="bright">共花费了：<div class="packages">0</div>元</div>
            </div>
            <div class="expensive">其中最贵的商品单价是：
                <div class="packages"></div>
                元
            </div>
        </div>
    </div>
</body>
<script>
    var jian = document.querySelectorAll(".jian");
    var add = document.querySelectorAll(".add");
    var num = document.querySelectorAll(".num");
    var prices = document.querySelectorAll('.price span');
    var itemTotalSale = document.querySelectorAll('.money span');
    var totalBox = document.querySelector('.bleft .packages');
    var totalMoney = document.querySelector('.bright .packages');
    var xiaoji = document.querySelectorAll(".money span")

    for (let i = 0; i < add.length; i++) {
        jian[i].onclick = function () {
            let n = num[i].innerHTML
            n--;
            if (n < 0) {
                n = 0;
            }
            num[i].innerHTML= n;
            xiaoji[i].innerHTML=n*Number(prices[i].innerHTML)+"元";
            totalBox.innerHTML=totoljian();
        }
        add[i].onclick = function () {
            let n=num[i].innerHTML
            n++
            num[i].innerHTML= n;
            xiaoji[i].innerHTML=n*Number(prices[i].innerHTML)+"元";
            totalBox.innerHTML=totoljian();
        }
    }
    function totoljian(){//商品总件数
        let n=Number(num[0].innerHTML);
        for(var i=1;i<num.length;i++){
            n+=Number(num[i].innerHTML);
        }
        return n;
    }
    
</script>

</html>